# 						蓝牙原理及软件开发

## 1.蓝牙原理

### 1.1蓝牙概述

 蓝牙，是一种支持设备短距离通信（一般10m内）的无线电技术。能在包括移动电话、PDA、无线耳机、笔记本电脑、相关外设等众多设备之间进行无线信息交换。利用“蓝牙”技术，能够有效地简化移动通信终端设备之间的通信，也能够成功地简化设备与因特网Internet之间的通信，从而数据传输变得更加迅速高效，为无线通信拓宽道路。蓝牙采用分散式网络结构以及快跳频和短包技术，支持点对点及点对多点通信，工作在全球通用的2.4GHz ISM（即工业、科学、医学）频段。其数据速率为1Mbps。采用时分双工传输方案实现全双工传输。

### 1.2蓝牙协议构成

蓝牙协议体系中的协议按SIG的关注程度分为四层：

1.核心协议：BaseBand、LMP、L2CAP、SDP； 
2.电缆替代协议：RFCOMM； 
3.电话传送控制协议：TCS-Binary、AT命令集； 
4.选用协议：PPP、UDP/TCP/IP、OBEX、WAP、vCard、vCal、IrMC、WAE。

除上述协议层外，规范还定义了主机控制器接口（HCI），它为基带控制器、连接管理器、硬件状态和控制寄存器提供命令接口。在图1中，HCI位于L2CAP的下层，但HCI也可位于L2CAP上层。

蓝牙核心协议由SIG制定的蓝牙专用协议组成。绝大部分蓝牙设备都需要核心协议（加上无线部分），而其他协议则根据应用的需要而定。总之，电缆替代协议、电话控制协议和被采用的协议在核心协议基础上构成了面向应用的协议。 

![img](https://images2015.cnblogs.com/blog/506370/201603/506370-20160308162412288-1389526862.png)

蓝牙协议栈允许采用多种方法，包括 RFCOMM 和 Object Exchange （OBEX ）， 在设备之间发送和接收文件。如果想发送和接收流数据（而且想采用传统的串口应用程序，并给它加上蓝牙支持），那么 RFCOMM 更好。反过来，如果想发送对象数据以及关于负载的上下文和元数据，则 OBEX 最好。

